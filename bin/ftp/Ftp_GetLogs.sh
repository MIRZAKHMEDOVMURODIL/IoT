#!/bin/bash

CURR_DIR=/IoT/bin/ftp
PYSCRIPT=$CURR_DIR/FTPManager.py
SHNAME=$(basename "$0")
CONFIG_DIR=$CURR_DIR/config

#履歴登録(FTP操作実績)
PROC_TYPE=FTP
TIME=`date "+%Y-%m-%d %H:%M:%S"`
RESULT=0
NULL=\"\"
/IoT/bin/hist_append.sh ${PROC_TYPE} ${SHNAME} ${NULL} ${NULL} ${NULL} ${NULL} ${NULL} ${NULL} ${NULL} "${TIME}" ${RESULT} ${NULL}

cd $CURR_DIR

# 多重起動防止
LCKNAME=/$SHNAME.lck
if [ -e $CURR_DIR/$LCKNAME ]; then
    exit 0
fi

touch $CURR_DIR/$LCKNAME

EQPID=LEV50001
EQPNAME=MSAPシード剥離

UNIT_NUM=000
UNIT_NAME=LINE
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/STS.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME STS

UNIT_NUM=010
UNIT_NAME=LD
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/ALM.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME ALM
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/STS.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME STS
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/STS_raw.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME STS_raw
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/COUNT.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME COUNT

UNIT_NUM=020
UNIT_NAME=MSAPシード剥離
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/ALM.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME ALM
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/STS.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME STS
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/STS_raw.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME STS_raw
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/QC_log1.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME QC 1
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/QC_log2.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME QC 2
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/TS_log1.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME TS 1
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/Conductivity.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME Conductivity

UNIT_NUM=030
UNIT_NAME=ULD
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/ALM.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME ALM
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/STS.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME STS
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/STS_raw.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME STS_raw
python3 $PYSCRIPT $CONFIG_DIR/$UNIT_NUM/COUNT.json $EQPID $EQPNAME $UNIT_NUM $UNIT_NAME COUNT

rm -f $CURR_DIR/$LCKNAME
